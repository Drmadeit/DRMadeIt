<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Square Corner Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
            background-color: white;
        }
        .calculator {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            border: 1px solid #f0f0f0;
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049;
        }
        .result {
            font-size: 18px;
            font-weight: bold;
            margin-top: 15px;
            padding: 10px;
            border-radius: 4px;
            background-color: #f9f9f9;
        }
        #triangle-diagram {
            display: block;
            margin: 20px auto;
            max-width: 100%;
            background-color: white;
            border-radius: 8px;
        }
        .formula {
            background-color: white;
            padding: 10px;
            border-radius: 4px;
            margin: 20px 0;
            border-top: 1px solid #f0f0f0;
            padding-top: 20px;
        }
        .construction-note {
            font-style: italic;
            color: #666;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <h1>Square Corner Calculator</h1>
    
    <div class="calculator">
        <div class="input-group">
            <label for="side-a">Side a:</label>
            <input type="number" id="side-a" min="0" step="any" placeholder="Enter length of side a">
        </div>
        
        <div class="input-group">
            <label for="side-b">Side b:</label>
            <input type="number" id="side-b" min="0" step="any" placeholder="Enter length of side b">
        </div>
        
        <button onclick="calculateHypotenuse()">Calculate Hypotenuse</button>
        
        <div class="result" id="result">
            Enter values for sides a and b to calculate the hypotenuse.
        </div>
        
        </div>
    </div>
    
    <svg id="triangle-diagram" viewBox="0 0 300 200" xmlns="http://www.w3.org/2000/svg">
        <!-- White background for the triangle section -->
        <rect x="0" y="0" width="300" height="200" fill="white"/>
        <rect x="75" y="50" width="0" height="0" fill="none" stroke="black" stroke-width="2" id="right-angle-marker" />
        <line x1="75" y1="150" x2="75" y2="50" stroke="black" stroke-width="2" id="side-a-line" />
        <line x1="75" y1="150" x2="225" y2="150" stroke="black" stroke-width="2" id="side-b-line" />
        <line x1="75" y1="50" x2="225" y2="150" stroke="green" stroke-width="3" id="hypotenuse-line" />
        <text x="65" y="100" text-anchor="end" fill="black" id="side-a-text">a</text>
        <text x="150" y="170" text-anchor="middle" fill="black" id="side-b-text">b</text>
        <text x="160" y="90" text-anchor="start" fill="green" id="hypotenuse-text">c</text>
    </svg>
    
    <script>
        function calculateHypotenuse() {
            // Get input values
            const sideA = parseFloat(document.getElementById('side-a').value);
            const sideB = parseFloat(document.getElementById('side-b').value);
            
            // Validate input
            if (isNaN(sideA) || isNaN(sideB)) {
                document.getElementById('result').textContent = 'Please enter valid numbers for both sides.';
                return;
            }
            
            if (sideA <= 0 || sideB <= 0) {
                document.getElementById('result').textContent = 'Side lengths must be positive numbers.';
                return;
            }
            
            // Calculate hypotenuse using Pythagorean theorem
            const hypotenuse = Math.sqrt(Math.pow(sideA, 2) + Math.pow(sideB, 2));
            
            // Display result
            document.getElementById('result').textContent = `Hypotenuse (c) = ${hypotenuse.toFixed(3)}`;
            
            // Update the SVG diagram
            updateTriangleDiagram(sideA, sideB, hypotenuse);
        }
        
        function updateTriangleDiagram(a, b, c) {
            // Normalize sides to fit in the SVG viewBox
            const maxSide = Math.max(a, b);
            const scale = 150 / maxSide;
            
            // Calculate scaled dimensions
            const scaledA = a * scale;
            const scaledB = b * scale;
            
            // Update the SVG elements
            const svgElement = document.getElementById('triangle-diagram');
            
            // Update the triangle sides
            document.getElementById('side-a-line').setAttribute('x1', 50);
            document.getElementById('side-a-line').setAttribute('y1', 150);
            document.getElementById('side-a-line').setAttribute('x2', 50);
            document.getElementById('side-a-line').setAttribute('y2', 150 - scaledA);
            
            document.getElementById('side-b-line').setAttribute('x1', 50);
            document.getElementById('side-b-line').setAttribute('y1', 150);
            document.getElementById('side-b-line').setAttribute('x2', 50 + scaledB);
            document.getElementById('side-b-line').setAttribute('y2', 150);
            
            document.getElementById('hypotenuse-line').setAttribute('x1', 50);
            document.getElementById('hypotenuse-line').setAttribute('y1', 150 - scaledA);
            document.getElementById('hypotenuse-line').setAttribute('x2', 50 + scaledB);
            document.getElementById('hypotenuse-line').setAttribute('y2', 150);
            
            // Update right angle marker
            document.getElementById('right-angle-marker').setAttribute('x', 50);
            document.getElementById('right-angle-marker').setAttribute('y', 150 - 20);
            document.getElementById('right-angle-marker').setAttribute('width', 20);
            document.getElementById('right-angle-marker').setAttribute('height', 20);
            
            // Update text labels
            document.getElementById('side-a-text').textContent = `a = ${a}`;
            document.getElementById('side-a-text').setAttribute('x', 35);
            document.getElementById('side-a-text').setAttribute('y', 150 - scaledA/2);
            
            document.getElementById('side-b-text').textContent = `b = ${b}`;
            document.getElementById('side-b-text').setAttribute('x', 50 + scaledB/2);
            document.getElementById('side-b-text').setAttribute('y', 165);
            
            document.getElementById('hypotenuse-text').textContent = `c = ${c.toFixed(3)}`;
            document.getElementById('hypotenuse-text').setAttribute('x', 50 + scaledB/2 - 10);
            document.getElementById('hypotenuse-text').setAttribute('y', 150 - scaledA/2 - 10);
        }
    
        // Function to convert decimal to fraction (nearest 1/16")
        function decimalToFraction(decimal) {
            // Multiply by 16 and round to nearest integer to get 16ths
            const sixteenths = Math.round(decimal * 16);
            
            // Handle whole numbers
            if (sixteenths % 16 === 0) {
                return sixteenths / 16;
            }
            
            // Find GCD for simplification
            const gcd = (a, b) => b ? gcd(b, a % b) : a;
            const numerator = sixteenths;
            const denominator = 16;
            const divisor = gcd(numerator, denominator);
            
            // Simplify the fraction
            const simplifiedNum = numerator / divisor;
            const simplifiedDenom = denominator / divisor;
            
            // Handle mixed numbers
            const wholePart = Math.floor(simplifiedNum / simplifiedDenom);
            const remainderNum = simplifiedNum % simplifiedDenom;
            
            if (wholePart > 0) {
                return `${wholePart} ${remainderNum}/${simplifiedDenom}`;
            } else {
                return `${remainderNum}/${simplifiedDenom}`;
            }
        }
        
        // Update the calculate function to use fractions
        function calculateHypotenuse() {
            // Get input values
            const sideA = parseFloat(document.getElementById('side-a').value);
            const sideB = parseFloat(document.getElementById('side-b').value);
            
            // Validate input
            if (isNaN(sideA) || isNaN(sideB)) {
                document.getElementById('result').textContent = 'Please enter valid numbers for both sides.';
                return;
            }
            
            if (sideA <= 0 || sideB <= 0) {
                document.getElementById('result').textContent = 'Side lengths must be positive numbers.';
                return;
            }
            
            // Calculate hypotenuse using Pythagorean theorem
            const hypotenuse = Math.sqrt(Math.pow(sideA, 2) + Math.pow(sideB, 2));
            
            // Convert to fraction
            const hypotenuseAsFraction = decimalToFraction(hypotenuse);
            
            // Display result
            document.getElementById('result').textContent = `Hypotenuse (c) = ${hypotenuse.toFixed(3)} (${hypotenuseAsFraction}")`;
            
            // Update the SVG diagram
            updateTriangleDiagram(sideA, sideB, hypotenuse);
        }
    </script>
    
    <div class="formula">
        <h3>About the Square Corner Calculator</h3>
        <p>The Pythagorean theorem states that in a right triangle, the square of the length of the hypotenuse (c) is equal to the sum of squares of the other two sides (a and b):</p>
        <p><strong>c² = a² + b²</strong></p>
        <p>Therefore: <strong>c = √(a² + b²)</strong></p>
        <div class="construction-note">
            <p>Often called the "3-4-5 rule" by construction workers, as a triangle with sides 3, 4, and 5 forms a perfect right angle.</p>
            <p>This calculator helps you find the diagonal measure when squaring a corner or laying out a rectangular space like a foundation or deck.</p>
        </div>
    </div>
</body>
</html>
